import os
import re

DATA_PATH = "./data/predicted/"
P_PATH = "./data/gtc-predicted.txt"

predicted = []
for root, dirs, files in os.walk(DATA_PATH):
    file_nums = []
    for file in files:
        pf = ''.join(re.findall(r'predicted-\d+.txt', file))
        if pf:
            fn = int(''.join(re.findall(r'\d+', pf)))
            file_nums.append(fn)

    for f_num in sorted(file_nums):
        pf = f"predicted-{f_num}.txt"
        with open(DATA_PATH + pf, 'r') as f:
            predicted.extend(f.readlines())


# print(len(predicted))
# print(predicted[:10])
with open(P_PATH, 'w+') as pf:
    pf.writelines(predicted)
